;; ПУТЬ К ПЛАГИНАМ
(add-to-list 'load-path "~/.emacs.d/lisp")

;; ПАКЕТЫ
(package-initialize)

(setq package-archives 
	'(("gnu" . "http://elpa.gnu.org/packages/")
      ("marmalade" . "http://marmalade-repo.org/packages/")
      ("melpa" . "http://melpa.milkbox.net/packages/")))
	  
;; ОТКЛЮЧИТЬ КУРСОР
(custom-set-variables
 '(visible-cursor))
   
;;(setq show-paren-style 'expression)
;;(show-paren-mode 2)


;; AUTOCOMPLETE
(require 'auto-complete-config)
(add-to-list 'ac-dictionary-directories "~/.emacs.d/dict")
(ac-config-default)


;; ЦВЕТ ФОНА И ТЕКСТА И ВЫДЕЛЕНИЯ
(set-background-color "gray10")
(set-foreground-color "white")
(set-face-background 'region "blue")
	

;; МЕНЮ
(menu-bar-mode -1)
(tool-bar-mode -1)
(scroll-bar-mode -1)


;; КЛАВИАТУРНЫЕ СОЧЕТАНИЯ
(global-set-key (kbd "C-v") 'yank)
(global-set-key (kbd "C-x C-a") 'kill-region)
(global-set-key (kbd "C-c") 'kill-ring-save)
(global-set-key (kbd "<f5>") 'other-window)
(global-set-key (kbd "C-a") 'mark-paragraph)
(global-set-key (kbd "M-1") 'move-beginning-of-line)
(global-set-key (kbd "M-2") 'move-end-of-line)
(global-set-key (kbd "C-s") 'save-buffer)
(global-set-key (kbd "C-f") 'isearch-forward)
(global-set-key (kbd "C-o") 'find-file)
(global-set-key (kbd "C-t") 'table-insert)
(global-set-key (kbd "<f12>") 'show-my-help)
(global-set-key (kbd "C-n") 'switch-to-buffer)
(global-set-key (kbd "<f2>") 'bs-show)
(global-set-key (kbd "C-<f1>") 'describe-variable)
(global-set-key (kbd "<f8>") 'sr-speedbar-toggle)
(global-set-key (kbd "<f6>") 'eval-last-sexp)	


;;(global-set-key "\C-ca" 'org-agenda) ;; поределение клавиатурных комбинаций для внутренних
;;(global-set-key "\C-cb" 'org-iswitchb) ;; подрежимов org-mode
;;(global-set-key "\C-cl" 'org-store-link)

;; ПОДСКАЗКА ПО КЛАВИАТУРНЫМ СОЧЕТАНИЯМ
(defun show-my-help ()
  (interactive)
  (message " 
Сочетание   Функция                  Описание                         Сочетание   Функция                  Описание
клавиш                                                                клавиш      
------------------------------------------------------------------    -----------------------------------------------------------
C-v         yank                     Вставить текст                   C-t         table-insert             Вставить таблицу 
C-n         switch-to-buffer         Новый буфер                      C-F1        describe-variable        Справка по функциям	
C-x C-a     kill-region              Вырезать текст                   F8          sr-speedbar-toggle       Открыть доп. панель	
C-c         kill-ring-save           Скопировать текст                F6          eval-last-sexp           Выполнить lisp
F5          other-window             переход по окнам               
M-1         move-beginning-of-line   Перескочить на начало строки   
M-2         move-end-of-line         Перескочить на конец строки    
C-s         save-buffer              Сохранить файл                 
C-f         isearch-forward          Поиск                          
C-o         find-file                Открыть файл                   
------------------------------------------------------------------
"))


;; COLOR THEME
;; Мои настройки лучше, но оставлю на всякий случай
;;(add-to-list 'load-path "~/emacs.d")
;;(require 'color-theme)
;;(color-theme-initialize)
;;(setq color-theme-is-global t)

;;(color-theme-robin-hood)
;;(color-theme-classic)
;;(color-theme-select)



;; НЕ ПОКАЗЫВАТЬ ЭКРАН ЗАСТАВКИ
(setq inhibit-startup-message t)

;; ВЫВОД НА ПОЛНЫЙ ЭКРАН
(toggle-frame-fullscreen)

;; ШРИФТ
(set-default-font "Courier New-11")


;; ПЕРЕКЛЮЧЕНИЕ МЕЖДУ ОКНАМИ ЧЕРЕЗ SHIFT И СТРЕЛКИ
(windmove-default-keybindings)
	

;; ДОП. ПАНЕЛЬ
(require 'sr-speedbar)

(make-face 'speedbar-face)
(set-face-font 'speedbar-face "Verdana-10")
(setq speedbar-mode-hook '(lambda () (buffer-face-set 'speedbar-face)))

(custom-set-variables
   '(speedbar-directory-button-trim-method (quote trim))
   '(speedbar-frame-parameters (quote ((minibuffer) (width . 27) (border-width . 1) (menu-bar-lines . 0) (tool-bar-lines . 0)    (unsplittable . t) (left-fringe . 0))))
   '(speedbar-hide-button-brackets-flag nil)
   '(speedbar-mode-specific-contents-flag t)
   '(speedbar-show-unknown-files t)
   '(speedbar-use-images t)
   '(sr-speedbar-max-width 100)
   '(sr-speedbar-right-side nil)
   '(sr-speedbar-width-console 100)
   '(sr-speedbar-width-x 100))
   
 
;; YASNIPPET 
(require 'yasnippet)
(yas-global-mode 1)
(yas/load-directory "~/.emacs.d/snippets")


;; АВТОВЫБОР СОДЕРЖИМОГО
;;(require 'ido)
;;(ido-mode t)
;;(setq ido-enable-flex-matching t)

 
 ;; ПОКАЗЫВАТЬ НОМЕРА СТРОК
(require 'linum+)
(setq linum-format "%d ")
(global-linum-mode 1)
 
 
;; АВТОСОХРАНЕНИЕ И БЕКАПЫ
(setq make-backup-files         nil) ; Don't want any backup files
(setq auto-save-list-file-name  nil) ; Don't want any .saves files
(setq auto-save-default         nil) ; Don't want any auto saving


;; ВЫВОД ИМЕНИ БУФЕРА
(setq frame-title-format "GNU Emacs: %b")


;; ВКЛЮЧИТЬ РЕЖИМ ORG MODE
(require 'org) ;; Вызвать org-mode
(add-to-list 'auto-mode-alist '("\\.org$" . Org-mode)) ;; ассоциируем *.org файлы с org-mode

;; ПЕРЕНОС ПО СЛОВАМ
(setq word-wrap          t) ;; переносить по словам
(global-visual-line-mode t)

;; ОТОБРАЖАТЬ БУФЕР SCRATCH
(require 'bs)
(setq bs-configurations '(("files" "^\\*scratch\\*" nil nil bs-visits-non-file bs-sort-buffer-interns-are-last)))
