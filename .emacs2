;;http://ergoemacs.org/emacs/emacs_package_system.html

;;http://ergoemacs.org/emacs/emacs_package_system.html
(when
	(load
	 (expand-file-name "C:/.emacs.d/elpa/package.el"))
  (package-initialize))

(require 'package)
(setq package-archives '(("gnu" . "http://elpa.gnu.org/packages/")
                         ("marmalade" . "http://marmalade-repo.org/packages/")
                         ("melpa" . "http://melpa.milkbox.net/packages/")))



;; ОТКЛЮЧИТЬ КУРСОР
(custom-set-variables
 '(visible-cursor))
   
;;(setq show-paren-style 'expression)
;;(show-paren-mode 2)

;; ПУТЬ К ПЛАГИНАМ
(add-to-list 'load-path "C:/.emacs.d/")


;(add-to-list 'load-path "c:/.emacs.d/auto-complete/")
;(require 'auto-complete-config)
;(ac-config-default)



;(add-to-list 'ac-dictionary-directories "/home/dim/EmacsCasts/episode03/auto-complete/dict")

;(require 'auto-complete-config)
;(ac-config-default)
;(add-to-list 'ac-dictionary-directories "C:/.emacs.d/auto-complete/dict")
 
 
;; ЦВЕТ ФОНА И ТЕКСТА И ВЫДЕЛЕНИЯ
(set-background-color "gray10")
(set-foreground-color "white")
(set-face-background 'region "darkgreen")


;; МЕНЮ
(menu-bar-mode -1)
(tool-bar-mode -1)
(scroll-bar-mode -1)


;; КЛАВИАТУРНЫЕ СОЧЕТАНИЯ
(global-set-key (kbd "C-v") 'yank)
(global-set-key (kbd "C-x C-a") 'kill-region)
(global-set-key (kbd "C-c") 'kill-ring-save)
(global-set-key (kbd "<f5>") 'other-window)
(global-set-key (kbd "C-a") 'mark-paragraph)
(global-set-key (kbd "M-1") 'move-beginning-of-line)
(global-set-key (kbd "M-2") 'move-end-of-line)
(global-set-key (kbd "C-s") 'save-buffer)
(global-set-key (kbd "C-f") 'isearch-forward)
(global-set-key (kbd "C-o") 'find-file)
(global-set-key (kbd "C-t") 'table-insert)
(global-set-key (kbd "<f12>") 'show-my-help)
(global-set-key (kbd "C-n") 'switch-to-buffer)
(global-set-key (kbd "<f2>") 'bs-show)

;;(global-set-key "\C-ca" 'org-agenda) ;; поределение клавиатурных комбинаций для внутренних
;;(global-set-key "\C-cb" 'org-iswitchb) ;; подрежимов org-mode
;;(global-set-key "\C-cl" 'org-store-link)

;; ПОДСКАЗКА ПО КЛАВИАТУРНЫМ СОЧЕТАНИЯМ
(defun show-my-help ()
  (interactive)
  (message " 
Сочетание   Функция                  Описание
клавиш             
------------------------------------------------------------------
C-v         yank                     Вставить текст
C-x C-a     kill-region              Вырезать текст
C-c         kill-ring-save           Скопировать текст
F5          other-window             переход по окнам
M-1         move-beginning-of-line   Перескочить на начало строки
M-2         move-end-of-line         Перескочить на конец строки
C-s         save-buffer              Сохранить файл
C-f         isearch-forward          Поиск
C-o         find-file                Открыть файл
C-t         table-insert             Вставить таблицу 
C-n         switch-to-buffer         Новый буфер
------------------------------------------------------------------
"))

;; НЕ ПОКАЗЫВАТЬ ЭКРВН ЗАСТАВКИ
(setq inhibit-startup-message t)

;; ВЫВОД НА ПОЛНЫЙ ЭКРАН
(toggle-frame-fullscreen)

;; ШРИФТ
(set-default-font "Courier New-11")


;; ПЕРЕКЛЮЧЕНИЕ МЕЖДУ ОКНАМИ ЧЕРЕЗ SHIFT >
(windmove-default-keybindings)


;; АВТОВЫБОР СОДЕРЖИМОГО
(require 'ido)
(ido-mode t)
(setq ido-enable-flex-matching t)

 
 ;; ПОКАЗЫВАТЬ НОМЕРА СТРОК
(require 'linum+)
(setq linum-format "%d ")
(global-linum-mode 1)
 
 
;; АВТОСОХРАНЕНИЕ И БЕКАПЫ
(setq make-backup-files         nil) ; Don't want any backup files
(setq auto-save-list-file-name  nil) ; Don't want any .saves files
(setq auto-save-default         nil) ; Don't want any auto saving


;; ВЫВОД ИМЕНИ БУФЕРА
(setq frame-title-format "GNU Emacs: %b")


;; ВКЛЮЧИТЬ РЕЖИМ ORG MODE
(require 'org) ;; Вызвать org-mode
(add-to-list 'auto-mode-alist '("\\.org$" . Org-mode)) ;; ассоциируем *.org файлы с org-mode

;; ПЕРЕНОС ПО СЛОВАМ
(setq word-wrap          t) ;; переносить по словам
(global-visual-line-mode t)

;; built-in
(require 'bs)
(setq bs-configurations '(("files" "^\\*scratch\\*" nil nil bs-visits-non-file bs-sort-buffer-interns-are-last)))
